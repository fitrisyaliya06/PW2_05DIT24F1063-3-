<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Registration Form</title>
    <!-- Load Inter font for modern look -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <!-- Load Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* General Styling - Enhanced Aesthetics */
        body { 
            background-color: #e9ecef; /* Light, soft gray/blue background */
            font-family: 'Inter', sans-serif; 
            /* Min-height for vertical centering effect on shorter screens */
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .container {
            max-width: 900px; /* Slightly wider form for better layout */
            margin-top: 50px;
            margin-bottom: 50px;
            padding: 50px;
            background-color: #ffffff;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15); /* Stronger, softer shadow for depth */
            border-radius: 16px; /* More rounded corners */
            border-left: 5px solid #688ce1; /* Subtle primary color accent line */
        }
        
        /* Header Styling - TARGETED BLUE COLOR */
        .college-name {
            color: #688ce1; /* PRIMARY BLUE COLOR for BLOOM COLLEGE */
            font-weight: 800; /* Extra bold */
            font-size: 2.5rem; 
            letter-spacing: 1px;
        }
        .form-title {
            color: #495057; /* Darker gray for the secondary title */
            font-weight: 600;
        }

        .col-form-label { 
            font-weight: 600; /* Bolder label for readability */
            color: #495057; 
        }
        /* Input Field Styling */
        .form-control, .form-select {
            border-radius: 8px; /* Rounded inputs */
            border-color: #ced4da;
            transition: border-color 0.2s, box-shadow 0.2s;
        }
        .form-control:focus, .form-select:focus {
            border-color: #688ce1;
            box-shadow: 0 0 0 0.25rem rgba(104, 140, 225, 0.25); /* Custom primary focus color */
        }
        
        /* Button Styling - More pronounced */
        .btn-primary {
            background-color: #688ce1; /* Custom primary color */
            border-color: #688ce1;
            font-weight: 600;
            transition: transform 0.1s, box-shadow 0.2s;
            border-radius: 10px;
        }
        .btn-primary:hover {
            background-color: #5577cc;
            border-color: #5577cc;
            transform: translateY(-1px);
            box-shadow: 0 4px 10px rgba(104, 140, 225, 0.4);
        }
        .btn-secondary {
            border-radius: 10px;
        }

        /* Modal Styling */
        .modal-header-success {
            background-color: #688ce1; 
            color: #ffffff; 
            border-bottom: none;
            border-top-left-radius: 14px;
            border-top-right-radius: 14px;
        }
        .modal-title { color: #ffffff; font-weight: 700; }
        .modal-content { border-radius: 16px; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2); }

        /* Media Query for responsiveness */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
                margin-top: 20px;
                margin-bottom: 20px;
                border-left: none; /* Hide accent line on mobile */
            }
        }
    </style>
</head>
<body>

<div class="container">
    <!-- Updated H2 to use the .college-name class for blue color -->
    <h2 class="text-center college-name">BLOOM COLLEGE</h2>
    <h3 class="text-center mb-5 form-title">Student Registration Form</h3>

    <form id="registrationForm" class="needs-validation" novalidate> 
<div class="row mb-4 align-items-start border-bottom pb-3">
    <label class="col-sm-3 col-form-label">Student Image:</label>
    <div class="col-sm-5">
        <input type="file" class="form-control" id="studentImage" accept="image/*" required>
        <div class="invalid-feedback d-block mt-1">
            Please upload a student image (less than 3 MB).
        </div>
    </div>
    <div class="col-sm-4 d-flex align-items-center">
        <small class="text-muted">(less than 3 MB)</small>
    </div>
</div>

        <div class="row mb-3 align-items-center">
            <label for="studentName" class="col-sm-3 col-form-label">Student Name:</label>
            <div class="col-sm-9">
                <input type="text" class="form-control" id="studentName" name="studentName" placeholder="Student Full Name" oninput="convertToUppercase(this)" required>
                <div class="invalid-feedback">Student name is required.</div>
            </div>
        </div>

        <div class="row mb-3 align-items-center">
            <label for="fatherName" class="col-sm-3 col-form-label">Father's Name:</label>
            <div class="col-sm-9">
                <input type="text" class="form-control" id="fatherName" name="fatherName" placeholder="Father's Full Name" oninput="convertToUppercase(this)" required>
                <div class="invalid-feedback">Father's name is required.</div>
            </div>
        </div>

        <div class="row mb-3 align-items-center">
            <label for="motherName" class="col-sm-3 col-form-label">Mother's Name:</label>
            <div class="col-sm-9">
                <input type="text" class="form-control" id="motherName" name="motherName" placeholder="Mother's Full Name" oninput="convertToUppercase(this)" required>
                <div class="invalid-feedback">Mother's name is required.</div>
            </div>
        </div>

        <div class="row mb-3 align-items-center">
            <label class="col-sm-3 col-form-label">Gender:</label>
            <div class="col-sm-9 d-flex align-items-center">
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="gender" id="genderMale" value="Male" required>
                    <label class="form-check-label" for="genderMale">Male</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="gender" id="genderFemale" value="Female">
                    <label class="form-check-label" for="genderFemale">Female</label>
                </div>
                <!-- Hidden radio button group to allow validation of the required radio selection -->
                <div class="invalid-feedback">Please select your gender.</div>
            </div>
        </div>

        <div class="row mb-3 align-items-center">
            <label for="dob" class="col-sm-3 col-form-label">Date of Birth:</label>
            <div class="col-sm-9">
                <input type="date" class="form-control" id="dob" name="dob" required>
                <div class="invalid-feedback">Date of Birth is required.</div>
            </div>
        </div>

        <div class="row mb-3 align-items-center">
            <label for="email" class="col-sm-3 col-form-label">E-mail:</label>
            <div class="col-sm-9">
                <input type="email" id="email" name="email" class="form-control" placeholder="email@domain.com" required
                    onfocus="handleFocus(this)" 
                    onblur="handleBlur(this)">
                <div class="invalid-feedback">Please enter a valid email format (e.g. user@example.com).</div>
            </div>
        </div>

        <div class="row mb-3">
            <label for="level" class="col-sm-3 col-form-label">Level:</label>
            <div class="col-sm-9">
                <select class="form-select" id="level" name="level" required>
                    <option value="" disabled selected>Select Level...</option>
                    <option value="Diploma">Diploma</option>
                    <option value="Degree">Degree</option>
                    <option value="Master">Master</option>
                    <option value="PhD">PhD</option>
                </select>
                <div class="invalid-feedback">Please select a level.</div>
            </div>
        </div>

        <div class="row mb-3">
            <label for="department" class="col-sm-3 col-form-label">Department:</label>
            <div class="col-sm-9">
                <select class="form-select" id="department" name="department" required>
                    <option value="" disabled selected>Select Department...</option>
                    <option value="Computer Science">Computer Science</option>
                    <option value="Electrical Engineering">Electrical Engineering</option>
                    <option value="Mechanical Engineering">Mechanical Engineering</option>
                    <option value="Civil Engineering">Civil Engineering</option>
                </select>
                <div class="invalid-feedback">Please select a department.</div>
            </div>
        </div>
        
        <div class="row mb-3 border-bottom pb-4">
            <label for="mobile" class="col-sm-3 col-form-label">Tel/Mobile:</label>
            <div class="col-sm-9">
                <input type="tel" class="form-control" id="mobile" name="mobile" placeholder="9 x x x x x x x x" required>
                <div class="invalid-feedback">Mobile number is required.</div>
            </div>
        </div>

        <h4 class="mt-5 mb-4 text-center text-secondary">Permanent Address</h4>
        
        <div class="row mb-3">
            <label for="state" class="col-sm-3 col-form-label">State:</label>
            <div class="col-sm-9">
                <input type="text" class="form-control" id="state" name="state" placeholder="State" required>
                <div class="invalid-feedback">State is required.</div>
            </div>
        </div>
        
        <div class="row mb-3">
            <label for="city" class="col-sm-3 col-form-label">City:</label>
            <div class="col-sm-9">
                <input type="text" class="form-control" id="city" name="city" placeholder="City" required>
                <div class="invalid-feedback">City is required.</div>
            </div>
        </div>

        <div class="row mb-3">
            <label for="postcode" class="col-sm-3 col-form-label">Postcode:</label>
            <div class="col-sm-9">
                <input type="text" class="form-control" id="postcode" name="postcode" placeholder="Postcode" required>
                <div class="invalid-feedback">Postcode is required.</div>
            </div>
        </div>

       <div class="d-grid gap-2 d-md-flex justify-content-md-center mt-5">
            <button type="submit" class="btn btn-primary btn-lg" id="registerBtn">Register Student</button>
            <button type="reset" class="btn btn-secondary btn-lg">Reset Form</button>
        </div>

    </form>
</div>

<!-- Success Modal -->
<div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header modal-header-success">
                <h5 class="modal-title" id="successModalLabel">âœ¨ Registration Successful!</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body text-center fs-5 text-success">
                <p>Your details have been successfully saved to the system.</p>
                <p class="small text-muted">You will receive a confirmation email shortly.</p>
            </div>
            <div class="modal-footer justify-content-center">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
    // B.iii: onchange/oninput for text field to change to caps lock
    function convertToUppercase(inputElement) {
        inputElement.value = inputElement.value.toUpperCase();
    }
    
    // B.ii: onFocus for text field (email) - Highlights the field
    function handleFocus(inputElement) {
        inputElement.style.backgroundColor = '#fefee0'; /* Very light yellow highlight */
    }

    // B.i: onBlur for text field (email) - Removes highlight and performs custom validation
    function handleBlur(inputElement) {
        inputElement.style.backgroundColor = 'white'; 
        
        // Custom Email Validation
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        
        // Use custom validity to interact with Bootstrap's required attribute
        if (inputElement.value.length > 0 && !emailRegex.test(inputElement.value)) {
            // Invalid: mark as invalid and set a custom message
            inputElement.setCustomValidity("Invalid email format.");
        } else if (inputElement.value.length === 0) {
             // Let the 'required' attribute handle the empty field
             inputElement.setCustomValidity("Please fill out this field.");
        } else {
            // Valid: clear any custom message
            inputElement.setCustomValidity("");
        }
    }
    
    // B.iv: Upon submission, validate and show the successful message modal
    document.getElementById('registrationForm').addEventListener('submit', function(event) {
        const form = event.target;
        
        // 1. CRUCIAL STEP: Prevent default form submission (page reload)
        event.preventDefault();
        event.stopPropagation();
        
        // 2. Check form validity (checks 'required' and custom validity from handleBlur)
        if (form.checkValidity()) {
            // If the form is valid, show the success modal
            const successModal = new bootstrap.Modal(document.getElementById('successModal'));
            successModal.show();
            
            // Optional: Reset the form and validation state after success
            // form.reset(); 
            form.classList.remove('was-validated'); 
        } else {
            // If the form is NOT valid, add the class to display all validation warnings
            form.classList.add('was-validated');
        }

        
    });
</script>
</body>
</html>
